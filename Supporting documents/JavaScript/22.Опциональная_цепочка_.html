<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    Опциональная цепочка ?.

    Это доступ к свойствам вложенных объектов

Если значения ключевого слова на пути отсутствуют - выйдет ошибка


        let user = {};

        alert(user.addres.street);


Свойство address отсутствует. (имеет значение undefined)

Также мы можем получить объект, соответствующий элементу страницы, с помощью специального вызова метода, такого как document.querySelector('.elem'), и он возвращает null, когда значения нет

        
        let html = document.querySelector('.elem').innerHTML

    
Но если нужно, чтобы элемент отсутствовал - условно, html = null

Можно было бы проверить с помощью if или условного оператора ?, прежде чем обращаться к его свойству:


         let user = {};

         alert(user.address ? user.address.street : undefined);


    ИЛИ ЖЕ 

        
        let html = document.querySelector('.elem') ? document.querySelector('.elem').innerHTML : null;


    ИЛИ ЖЕ 


        alert( user.address && user.address.street && user.address. street.name ); // undefined (без ошибки)


Тут повторяется весь путь до требуемого, и, если вложенность оказывается более глубокой - происходит лишнее повторение всего кода.

_____________________________________________________________


ТАК ВОТ

Опциональная точка ?. останавливает вычисление и возвращает undefined, если значение перед ?. - равно undefined или null. 

ТО ЕСТЬ 

value?.prop: 

    1) Работает как value.prop, если значение value существует

    2) ИНАЧЕ, когда value равно undefined/ null - он возвращает undefined.


И в моём случае, доступ к user.address.street, используя ?. 

        
        let user = {}; // Пользователь без адреса

        alert( user?.address?.street ); // undefined (без ошибки)


        ИЛИ ЖЕ 


        let html = document.querySelector('.elem')?.innerHTML; // будет undefined, если элемента нет


Считывание адреса с помощью user?.address работает, даже если объект user не существует


        let user = null;

        alert( user?.address ); // undefined
        alert( user?.address.street ); // undefined



ВАЖНО!    делает необязательным значением ПЕРЕД ним, НО НЕ какое-либо последующее. 


+++++++++ ПЕРЕМЕННАЯ ПЕРЕД ?. должна быть объявлена 

Если переменной user вообще нет, то user?.anything приведёт к ошибке 

        //RefenceError: user is not defined
        user?.address 


Нам следует использовать ?. только там, где нормально, что чего-то не существует.

К примеру, если, в соответствии с логикой нашего кода, объект user должен существовать, но address является необязательным, то нам следует писать user.address?.street, но не user?.address?.street.

В этом случае, если вдруг user окажется undefined, мы увидим программную ошибку по этому поводу и исправим её. В противном случае, если слишком часто использовать ?., ошибки могут замалчиваться там, где это неуместно, и их будет сложнее отлаживать.

_____________________________________________________________




ДРУГИЕ ВАРИАНТЫ ПРИМЕНЕНИЯ: ?.(), ?.[]


Опциональная цепочка ?. - это не оператор, а специальная синтаксическая конструкция, которая вдобавок работает с функциями и массивами???? 

ТО ЕСТЬ 
?.() используется для вызова функции, 
которая МОЖЕТ НЕ СУЩЕСТВОВАТЬ.

В коде ниже у некоторых пользователей есть метод admin, а у некоторых нет. 


        let userAdmin = {
            admin() {
                alert("Я админ");
            }
        };

        let userGuest = {};

        userAdm







</body>
</html>