<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>10</title>
</head>
<body>
    

ЦИКЛЫ
Используются зачастую при написании скриптов, когда требуется сделать однотипное действие много раз.




Цикл "while"

        while (condition) {
            // код 
            // также называемый "телом цикла"
        }

Код выполняется, пока условие condition истинно.


        let i = 0;
        while (i < 3) { // выводит 0, затем 1 и 2
            alert( i );
            i++; // прибавляет по одному
        }

ОДНО выполнение тела цикла - ИТЕРАЦИЯ. В примере выше три итерации. 


    Любое выражение или переменная может быть условием:
        
        let i = 3;
        while (i) { // когда i будет равно 0, условие станет ложным, и цикл остановится
            alert( i );
            i--; // убавляет по одному
        }
    



ЕСЛИ ЦИКЛ однострочный - фигурные скобки не трубуются. 

        let i = 3;
        while (i) alert(i--);






Кроме того, можно писать условие в конце, чтоб цикл выполнился хотя бы раз (даже если условие ложное)

        do {
            // тело цикла
        } while (condition);

    То есть цикл сначала выполнит тело, а затем проверит услоие, и пока его значение равно true, он будет выполняться снова и снова.

        let i = 0;
        do {
            alert( i );
            i++;
        } while (i < 3);
_____________________________________________________



Цикл "for"


    for (начало; условие; шаг) {
        // тело цикла
    }




    НАЧАЛО: выполняется один раз при входе в цикл

    УСЛОВИЕ: проверяется перед каждой итерацией цикла. Если оно вычислится в false - циклу конец

    ТЕЛО: сама внутренность

    ШАГ: выполняется после тела цикла на каждой итерации перед проверкой условия



    Например:

        for (let i = 0; i < 3; i++) { // выведет 0, затем 1, затем 2
            alert(i)
        }


ТО ЕСТЬ: НАЧАЛО выполняется один раз, а затем каждая итерация заключается в проверке УСЛОВИЯ, после которой выполняется тело и шаг. 






ВСТРОЕННОЕ ОБЪЯВЛЕНИЕ ПЕРЕМЕННОЙ

В примере выше переменная счётчика i была объявлена прямо в цикле. Такие переменные существует только внутри цикла. 

        for (let i = 0; i < 3; i++) {
            alert(i); // 0, 1, 2
        }
        alert(i); // ошибка, нет такой переменной

Чтоб такого не было - объявляем переменную ДО








ЛЮБАЯ ЧАСТЬ "for" может быть пропущена


    БЕЗ НАЧАЛА:
        
        let i = 0; // мы уже имеем объявленную i с присвоенным значением
        for (; i < 3; i++) { // без начала
            alert( i ); // 0, 1, 2
        }


    
    БЕЗ ШАГА:

        let i = 0;
        for (; i < 3;) {
            alert( i++ );
        }
        // Получился типа цикл while (i < 3)


    
    БЕЗ ВСЕГО:

        for (;;) {
            // будет выполняться вечно, при этом точки с запятой обязательно должны присутсвовать
        }










ПРЕРЫВАНИЕ ЦИКЛА "break":

    Цикл завершается при вычислении условия false, но можно в любой момент с помощью директивы break


        let sum = 0;

        while (true) {
            
            let value = +prompt("Введите число", '');
            
            if (!value) break; // (*)

            sum += value;
        }
        alert( 'Сумма: ' + sum );


*Директива break в строке полностью прекращает выполнение цикла и передаёт управление на строку за его телом, то есть на alert.












ПЕРЕХОД К СЛЕДУЮЩЕЙ ИТЕРАЦИИ: continue

Директива continue - облегчённая версия break. При её выполнении циел не прерывается, а переходит к следующей итерации (если условие всё ещё равно true)


    Вывод только нечётных чисел:
        for (let i = 0; i < 10; i++) {
            
            // если true, пропустить оставшуюся часть тела цикла
        if (i % 2 == 0) continue;

        alert(i); // 1, 3, 5, 7, 9
        }


break/continue нельзя использовать справа от оператора "?"

        например, если возьмём этот код:

        if (i > 5) {
            alert(i);
        } else {
            continue;
        }

и перепишем его, используя вопросительный знак:

        (i > 5) ? alert(i) : continue; //тут continue приведет к ошибке










Метки для break/continue

Иногда нужно выйти из нескольких уровней цикла сразу. Например ниже мы проходимся циклами по i и j, запрашивая с помощью prompt
координаты (i, j) с (0,0) до (2,2):


        for (let i = 0; i < 3; i++) {
            
            for (let j = 0; j < 3; j++) {

                let input = prompt(`Значение на координатах (${i}, ${j})`, '');
                
                // Что если я захочу перейти к Готово (ниже) прям отсюда?
            }
        }
        alert(`Готово!`);

Нам нужен способ остановить выполнение, если пользователь отменит ввод.

Обычный break после input лишь прервёт внутренний цикл, но этого недостаточно. Достичь желаемого поведения можно с помощью меток.

МЕТКА имеет вид идентификатора с двоеточием перед циклом:

        labelName: for (...) {
            ...
        }

Вызов break <labelName> в цикле ниже ищет ближайший цикл с такой меткой и переходит в его конец:

        outer: for (let i = 0; i < 3; i++) {

            for(let j = 0; j < 3; j++) {

                let input = prompt(`Значение на координатах (${i},${j})`, '');

                // если пустая строка или Отмена, то выйти из обоих циклов
                if (!input) break outer; //(*)
                
                // сделать что-нибудь со значениями...
            }
        }
        alert('Готово!');


В примере выше это означает, что вызовом break outer будет разорван внешний цикл до метки с именем outer.

Таким образом управление перейдёт со строки, помеченной (*), к alert('Готово!').


Можно размещать метку на отдельной строке:

outer:
for (let i = 0; i < 3; i++) { ... }




</body>
</html>